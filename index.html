<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英文單字測驗網站 - 模組化範例</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>📖 智慧單字複習系統</h1>
        <div id="sync-status-area" class="sync-none">載入中...</div>
    </header>

    <main id="app-main">

        <section id="setup-view" class="view">
            <h2>測驗設定</h2>
            <div class="setting-group">
                <label for="level-select">測驗級別：</label>
                <select id="level-select">
                    <option value="A">A 級 (英中選擇/拼字)</option>
                    <option value="B">B 級 (中英選擇/拼字)</option>
                    <option value="C">C 級 (英翻中/拼字)</option>
                    <option value="D">D 級 (聽發音/拼字)</option>
                </select>
            </div>
            
            <div class="setting-group">
                <label for="id-start">ID 範圍：</label>
                <input type="number" id="id-start" value="1" min="1" max="9999" aria-label="起始 ID">
                <span>至</span>
                <input type="number" id="id-end" value="100" min="1" max="9999" aria-label="結束 ID">
            </div>

            <div class="setting-group">
                <label for="quiz-count">測驗題數：</label>
                <input type="number" id="quiz-count" value="30" min="5" max="100" aria-label="測驗數量">
            </div>
            
            <button id="start-quiz-btn" class="btn-primary">開始測驗</button>
            <button id="view-history-btn" class="btn-secondary">查看歷史紀錄 (2.7)</button>
        </section>

        <section id="quiz-view" class="view" style="display: none;">
            <div id="quiz-header">
                <span id="timer-display">時間: 00:00</span>
                <span id="progress-display">進度: 0/30</span>
            </div>

            <div id="question-area">
                <h3 id="question-text">題目內容</h3>
                <div id="audio-placeholder"></div> </div>

            <div id="answer-area">
                <div id="options-container">
                    </div>
                <input type="text" id="user-input-field" placeholder="請輸入您的答案">
            </div>

            <div id="feedback-area">
                </div>
            
            <div id="quiz-controls">
                <button id="submit-answer-btn" class="btn-primary">提交答案</button>
                <button id="next-question-btn" class="btn-secondary" style="display: none;">下一題</button>
            </div>
        </section>
        
        <section id="result-view" class="view" style="display: none;">
            <h2>測驗結果</h2>
            <div id="result-summary" class="summary-box">
                </div>
            <button id="review-errors-btn" class="btn-secondary">查看錯誤清單 (2.6)</button>
            <button id="start-new-quiz-btn" class="btn-primary">再測一次</button>
        </section>

        <section id="history-view" class="view" style="display: none;">
            <h2>歷史紀錄與訂正</h2>
            <div id="history-list">
                </div>
            <div id="error-review-list">
                 </div>
            <button id="back-to-setup-btn" class="btn-secondary">返回設定</button>
        </section>

    </main>

    <script type="module" src="data-loader.js"></script>

    <script type="module" src="quiz-generator.js"></script>

    <script type="module" src="quiz-ui.js"></script>

    <script type="module" src="history-manager.js"></script>

    <script type="module" src="main.js"></script>

</body>
</html>